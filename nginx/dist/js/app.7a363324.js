(function(e){function t(t){for(var r,o,c=t[0],s=t[1],i=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a={app:0},u=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-1ad62dc4":"d641bb68","chunk-31b073d5":"6a10490b","chunk-73b8bcf4":"b266e6ae"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-1ad62dc4":1,"chunk-31b073d5":1,"chunk-73b8bcf4":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-1ad62dc4":"ce0f9e5f","chunk-31b073d5":"4a3b5c43","chunk-73b8bcf4":"8c488687"}[e]+".css",a=s.p+r,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var i=u[c],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===r||d===a))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){i=f[c],d=i.getAttribute("data-href");if(d===r||d===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||a,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete o[e],l.parentNode.removeChild(l),n(u)},l.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(l)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=u);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var f=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",f.name="ChunkLoadError",f.type=r,f.request=o,n[1](f)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var f=0;f<i.length;f++)t(i[f]);var l=d;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09f0":function(e,t,n){},4360:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("5502"),o=n("bfa9"),a=n("1da1"),u=n("5530"),c=(n("96cf"),n("c24f")),s=n("a18c"),i=n("7864"),d={namespaced:!0,state:{userInfo:{id:"",student_id:"",name:"",gender:0,Mail:"",certify_code:"",nickName:"",headerImg:"",authority:{},sideMode:"dark",activeColor:"#4D70FF",baseColor:"#fff"},token:""},mutations:{setUserInfo:function(e,t){e.userInfo=t},setToken:function(e,t){e.token=t},NeedInit:function(e){e.userInfo={},e.token="",sessionStorage.clear(),s["a"].push({name:"Init",replace:!0})},LoginOut:function(e){e.userInfo={},e.token="",sessionStorage.clear(),s["a"].push({name:"Login",replace:!0}),window.location.reload()},ResetUserInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.userInfo=Object(u["a"])(Object(u["a"])({},e.userInfo),t)},ChangeSideMode:function(e,t){e.userInfo.sideMode=t}},actions:{GetUserInfo:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(c["a"])();case 3:return r=t.sent,0===r.code&&n("setUserInfo",r.data.userInfo),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},LoginIn:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Object(c["b"])(t);case 3:if(o=n.sent,"ok"!==o.msg){n.next=9;break}return console.log(o),r("setUserInfo",o.data.userInfo),r("setToken",o.data.token),n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})))()},LoginOut:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("LoginOut");case 2:case"end":return t.stop()}}),t)})))()},changeSideMode:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.state,n.next=3,Object(c["setUserInfo"])({sideMode:t,ID:o.userInfo.ID});case 3:a=n.sent,0===a.code&&(r("ChangeSideMode",t),Object(i["a"])({type:"success",message:"设置成功"}));case 5:case"end":return n.stop()}}),n)})))()}},getters:{userInfo:function(e){return e.userInfo},token:function(e){return e.token},mode:function(e){return e.userInfo.sideMode},sideMode:function(e){return"dark"===e.userInfo.sideMode?"#191a23":"light"===e.userInfo.sideMode?"#fff":e.userInfo.sideMode},baseColor:function(e){return"dark"===e.userInfo.sideMode?"#fff":"light"===e.userInfo.sideMode?"#191a23":e.userInfo.baseColor},activeColor:function(e){return"dark"===e.userInfo.sideMode||"light"===e.userInfo.sideMode?"#4D70FF":e.userInfo.activeColor}}},f=new o["a"]({storage:window.localStorage,modules:["user"]}),l=Object(r["a"])({modules:{user:d},plugins:[f.plugin]})},"496a":function(e,t,n){"use strict";n("09f0")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t,n,o,a,u){var c=Object(r["R"])("router-view");return Object(r["I"])(),Object(r["k"])(c)}var a={name:"App",components:{}},u=(n("496a"),n("6b0d")),c=n.n(u);const s=c()(a,[["render",o]]);var i=s,d=n("7864"),f=(n("c69f"),n("3ef0")),l=n.n(f),p=function(e){e.use(d["c"],{locale:l.a})},m=n("a18c"),h=n("4360"),g=Object(r["j"])(i).use(m["a"]).use(h["a"]);p(g),g.mount("#app")},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var r=n("6c02"),o=function(){return n.e("chunk-73b8bcf4").then(n.bind(null,"9ed6"))},a=function(){return n.e("chunk-1ad62dc4").then(n.bind(null,"7abe"))},u=function(){return n.e("chunk-31b073d5").then(n.bind(null,"d5c2"))},c=[{path:"/",redirect:"/login"},{path:"/home",name:"home",component:a},{path:"/login",name:"Login",component:o},{path:"/register",name:"Register",component:u}],s=Object(r["a"])({history:Object(r["b"])(),routes:c});t["a"]=s},b775:function(e,t,n){"use strict";n("e9c4");var r=n("bc3a"),o=n.n(r),a=n("7864"),u=n("4360"),c=n("14b7"),s=Object(c["a"])();o.a.defaults.baseURL="sincos.vip";var i,d=o.a.create({baseURL:"http://sincos.vip/api/v1",timeout:99999}),f=0,l=function(){f++,i&&clearTimeout(i),i=setTimeout((function(){f>0&&s.emit("showLoading")}),400)},p=function(){f--,f<=0&&(clearTimeout(i),s.emit("closeLoading"))};d.interceptors.request.use((function(e){e.donNotShowLoading||l();var t=u["a"].getters["user/token"],n=u["a"].getters["user/userInfo"];return e.data=JSON.stringify(e.data),e.headers={"Content-Type":"application/json","x-token":t,"x-user-id":n.id},e}),(function(e){return p(),Object(a["a"])({showClose:!0,message:e,type:"error"}),e})),d.interceptors.response.use((function(e){return p(),e.headers["new-token"]&&u["a"].commit("user/setToken",e.headers["new-token"]),200===e.data.code||"true"===e.headers.success?(e.headers.msg&&(e.data.msg=decodeURI(e.headers.msg)),e.data):(Object(a["a"])({showClose:!0,message:e.data.msg,type:"error"}),e.data.data&&e.data.data.reload&&u["a"].commit("user/LoginOut"),e.data.msg?e.data:e)}),(function(e){switch(p(),console.log(e),e.response.status){case 500:a["b"].confirm("\n        <p>检测到接口错误".concat(e,'</p>\n        <p>错误码<span style="color:red"> 500 </span>：此类错误内容常见于后台panic，请先查看后台日志，如果影响您正常使用可强制登出清理缓存</p>\n        '),"接口报错",{dangerouslyUseHTMLString:!0,distinguishCancelAndClose:!0,confirmButtonText:"清理缓存",cancelButtonText:"取消"}).then((function(){u["a"].commit("user/LoginOut")}));break;case 404:a["b"].confirm("\n          <p>检测到接口错误".concat(e,'</p>\n          <p>错误码<span style="color:red"> 404 </span>：此类错误多为接口未注册（或未重启）或者请求路径（方法）与api路径（方法）不符--如果为自动化代码请检查是否存在空格</p>\n          '),"接口报错",{dangerouslyUseHTMLString:!0,distinguishCancelAndClose:!0,confirmButtonText:"我知道了",cancelButtonText:"取消"});break}return e}));t["a"]=d},c24f:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return c}));var r=n("b775"),o=function(e){return Object(r["a"])({url:"/login",method:"post",data:e})},a=function(e){return Object(r["a"])({url:"/register",method:"post",data:e})},u=function(){return Object(r["a"])({url:"/getUserInfo",method:"get"})},c=function(){return Object(r["a"])({url:"/updateCertifyCode",method:"get"})}},c69f:function(e,t,n){}});
//# sourceMappingURL=app.7a363324.js.map